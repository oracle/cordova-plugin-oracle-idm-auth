<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: RemoteAuthenticationFlow</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: RemoteAuthenticationFlow</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>RemoteAuthenticationFlow</h2>
        
            <div class="class-description"><p>Remote authentication flow object.
This class is not directly instantiated.
Instance of this class can be obtained when the promise returned from <a href="global.html#init">init</a> resolves.
Auth properties passed to <a href="global.html#init">init</a> should be from one of:</p>
<p><ul style="list-style: none;">
<li><a href="FedAuthPropertiesBuilder.html">FedAuthPropertiesBuilder</a></li>
<li><a href="OAuthPropertiesBuilder.html">OAuthPropertiesBuilder</a></li>
<li><a href="OpenIDConnectPropertiesBuilder.html">OpenIDConnectPropertiesBuilder</a></li>
</ul>
Setting up and using these authentication flows are explained in the respective builder documentations.</p></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="IdmAuthFlows.js.html">IdmAuthFlows.js</a>, <a href="IdmAuthFlows.js.html#line1845">line 1845</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="HttpBasicAuthenticationFlow.html">HttpBasicAuthenticationFlow</a></li>
        </ul>
    </dd>
    

    
</dl>


















    
    </div>

    
        <h3 class="subsection-title">Extends</h3>

        


    <ul>
        <li><a href="AuthenticationFlow.html">AuthenticationFlow</a></li>
    </ul>


    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="getHeaders"><span class="type-signature"></span>getHeaders<span class="signature">(options)</span><span class="type-signature"> &rarr; {Promise.&lt;Object.&lt;string, string>>}</span></h4>
    

    



<div class="description">
    <p>This method is used to get Authorization headers and any custom headers to be set for making XHR requests to secured end points.
Headers are returned as an object in a format that can be directly added to the XHR request headers.</p>
<pre>
authFlow.getHeaders().then(function(headers){
  var request; // Represents an XHR request
  ...
  for (var key in headers) {
    if (headers.hasOwnProperty(key)) {
      request.setRequestHeader(key, headers[key]);
    }
  }
  ...
}
</pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="RemoteAuthenticationFlow.html#~GetHeadersOptions">RemoteAuthenticationFlow~GetHeadersOptions</a></span>


            
            </td>

            

            

            <td class="description last"><p>options to be used</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="IdmAuthFlows.js.html">IdmAuthFlows.js</a>, <a href="IdmAuthFlows.js.html#line1999">line 1999</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <ul>
<li>headers needed to be used for accessing secured resource.</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">Type of Auth</th>
<th style="text-align:left">What headers are returned</th>
<th style="text-align:left">Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">HttpBasicAuthentication</td>
<td style="text-align:left">Basic auth header</td>
<td style="text-align:left">Generated from stored credentials. <a href="HttpBasicAuthPropertiesBuilder.html#offlineAuthAllowed">HttpBasicAuthPropertiesBuilder#offlineAuthAllowed</a> should be true for SDK to store the credentials.</td>
</tr>
<tr>
<td style="text-align:left">FederatedAuthentication</td>
<td style="text-align:left">Relevant cookies as header</td>
<td style="text-align:left">options.fedAuthSecuredUrl has to be set</td>
</tr>
<tr>
<td style="text-align:left">FederatedAuthentication with <a href="FedAuthPropertiesBuilder.html#parseTokenRelayResponse">FedAuthPropertiesBuilder#parseTokenRelayResponse</a> turned ON</td>
<td style="text-align:left">Bearer token</td>
<td style="text-align:left">Can specify options.oauthScopes to get token for scope or a set of scopes.</td>
</tr>
<tr>
<td style="text-align:left">OAuth, OpenID</td>
<td style="text-align:left">Bearer token</td>
<td style="text-align:left">Can specify options.oauthScopes to get token for scope or a set of scopes.</td>
</tr>
</tbody>
</table>
<p>If the promise is rejected, the callback will receive and object of type <a href="global.html#AuthError">AuthError</a></p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Object.&lt;string, string>></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isAuthenticated"><span class="type-signature"></span>isAuthenticated<span class="signature">(options)</span><span class="type-signature"> &rarr; {Promise.&lt;boolean>}</span></h4>
    

    



<div class="description">
    <p>This method is used to find out if the user is authenticated.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="AuthenticationFlow.html#~IsAuthenticatedOptions">AuthenticationFlow~IsAuthenticatedOptions</a></span>


            
            </td>

            

            

            <td class="description last"><p>options to be used</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="AuthenticationFlow.html#isAuthenticated">AuthenticationFlow#isAuthenticated</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="IdmAuthFlows.js.html">IdmAuthFlows.js</a>, <a href="IdmAuthFlows.js.html#line1941">line 1941</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>If the promise is rejected, the callback will receive and object of type <a href="global.html#AuthError">AuthError</a></p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;boolean></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="login"><span class="type-signature"></span>login<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;<a href="AuthenticationFlow.html">AuthenticationFlow</a>>}</span></h4>
    

    



<div class="description">
    <p>This method is used to login. <p>The promise is resolved when login succeeds. Once login is successful,
if this authentication is for accessing the app, user can be allowed to do so.
If it is to access data secured resources this operation can now be performed.
It may also be required to obtain certain headers for accessing the secured resource.
In this case <a href="RemoteAuthenticationFlow.html#getHeaders">RemoteAuthenticationFlow#getHeaders</a> can be used.</p></p>
<p><p>The promise gets rejected with an <a href="global.html#AuthError">AuthError</a> object which contains information on the reason of failure.
This information can be used to shown the reason why login did not succeed.
App can keep track of these failures and implement specific policies related to maximum attempts and steps to do after multiple failures here.</p></p>
<p><p>Sample usage:</p><pre>
cordova.plugins.IdmAuthFlows.init(authProps).then(
  function(authenticationFlow) {
    var loginPromise = authenticationFlow.login();
    loginPromise.then(...);
    loginPromise.catch(...);
  }
);</pre></p>
</div>













<dl class="details">

    

    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="AuthenticationFlow.html#login">AuthenticationFlow#login</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="IdmAuthFlows.js.html">IdmAuthFlows.js</a>, <a href="IdmAuthFlows.js.html#line1867">line 1867</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>If the promise is rejected, the callback will receive and object of type <a href="global.html#AuthError">AuthError</a></p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;<a href="AuthenticationFlow.html">AuthenticationFlow</a>></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="logout"><span class="type-signature"></span>logout<span class="signature">(purgeSettings)</span><span class="type-signature"> &rarr; {Promise.&lt;<a href="AuthenticationFlow.html">AuthenticationFlow</a>>}</span></h4>
    

    



<div class="description">
    <p>This method is used to logout.</p>
<p><p>Once the promise is resolved, the user can be shown the login page to re-login or a way to attempt for the same.
<a href="AuthenticationFlow.html#login">AuthenticationFlow#login</a> can be invoked on the same <a href="AuthenticationFlow.html">AuthenticationFlow</a> object.
There is no need to create a new one, unless there is some change in the authentication properties such as server details.</p></p>
<p><p>User is essentially logged out even if logout promise is rejected.
App can decide not to show the logout error to the end user as there is no action associated with it.
There is one special case when device is offline. In this case, logout will throw an error because logout URL loading will fail.
But device local logout will be successful. Application should handle this error, check for the device status (offline / online)
and then decide to show the error message to the user.</p>
The following table describes what is cleared on logout with different values for purgeSettings:</p>
<table>
<thead>
<tr>
<th style="text-align:left">purgeSettings</th>
<th style="text-align:left">false</th>
<th style="text-align:left">true</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">HttpBasicAuthentication</td>
<td style="text-align:left">Clear remembered credentials</td>
<td style="text-align:left">Clears offline, remembered credentials, user preferences</td>
</tr>
<tr>
<td style="text-align:left">FederatedAuthentication</td>
<td style="text-align:left">Clear Cookies by loading logout URL</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">OAuth, OpenID</td>
<td style="text-align:left">Clear access token</td>
<td style="text-align:left">Invalidate session maintained by the browser by loading logout URL.</td>
</tr>
</tbody>
</table>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>purgeSettings</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>pass true to reset all saved information for this auth. Falls back to 'false' if non boolean is passed.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="AuthenticationFlow.html#logout">AuthenticationFlow#logout</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="IdmAuthFlows.js.html">IdmAuthFlows.js</a>, <a href="IdmAuthFlows.js.html#line1957">line 1957</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>If the promise is rejected, the callback will receive and object of type <a href="global.html#AuthError">AuthError</a></p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;<a href="AuthenticationFlow.html">AuthenticationFlow</a>></span>


    </dd>
</dl>

    





        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                
<h4 class="name" id="~GetHeadersOptions">GetHeadersOptions</h4>




<div class="description">
    <p>Option object to be used with <a href="RemoteAuthenticationFlow.html#getHeaders">RemoteAuthenticationFlow#getHeaders</a></p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fedAuthSecuredUrl</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>URL for which cookies and headers need to retrieved. Applicable only for for FedAuth.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>oauthScopes</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;String></span>


            
            </td>

            

            

            <td class="description last"><p>Scopes for which header is requested.
Need to be set for OAuth cases where fine grained control on the token is needed.
If not specified, the first OAuth token available will be returned. Applicable only for for OAuth</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="IdmAuthFlows.js.html">IdmAuthFlows.js</a>, <a href="IdmAuthFlows.js.html#line1991">line 1991</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AuthenticationFlow.html">AuthenticationFlow</a></li><li><a href="FedAuthPropertiesBuilder.html">FedAuthPropertiesBuilder</a></li><li><a href="HttpBasicAuthenticationFlow.html">HttpBasicAuthenticationFlow</a></li><li><a href="HttpBasicAuthPropertiesBuilder.html">HttpBasicAuthPropertiesBuilder</a></li><li><a href="LocalAuthenticationFlow.html">LocalAuthenticationFlow</a></li><li><a href="LocalAuthenticationFlowManager.html">LocalAuthenticationFlowManager</a></li><li><a href="LocalAuthenticationHelper.html">LocalAuthenticationHelper</a></li><li><a href="LocalAuthPropertiesBuilder.html">LocalAuthPropertiesBuilder</a></li><li><a href="OAuthPropertiesBuilder.html">OAuthPropertiesBuilder</a></li><li><a href="OpenIDConnectPropertiesBuilder.html">OpenIDConnectPropertiesBuilder</a></li><li><a href="PropertiesBuilder.html">PropertiesBuilder</a></li><li><a href="RemoteAuthenticationFlow.html">RemoteAuthenticationFlow</a></li><li><a href="RemoteAuthPropertiesBuilder.html">RemoteAuthPropertiesBuilder</a></li></ul><h3>Global</h3><ul><li><a href="global.html#AuthChallenge">AuthChallenge</a></li><li><a href="global.html#BrowserMode">BrowserMode</a></li><li><a href="global.html#ConnectivityModes">ConnectivityModes</a></li><li><a href="global.html#Error">Error</a></li><li><a href="global.html#ErrorSource">ErrorSource</a></li><li><a href="global.html#ErrorSources">ErrorSources</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#newFedAuthPropertiesBuilder">newFedAuthPropertiesBuilder</a></li><li><a href="global.html#newHttpBasicAuthPropertiesBuilder">newHttpBasicAuthPropertiesBuilder</a></li><li><a href="global.html#newOAuthPropertiesBuilder">newOAuthPropertiesBuilder</a></li><li><a href="global.html#newOpenIDConnectPropertiesBuilder">newOpenIDConnectPropertiesBuilder</a></li><li><a href="global.html#OAuthAuthorizationGrantTypes">OAuthAuthorizationGrantTypes</a></li><li><a href="global.html#TimeoutResponse">TimeoutResponse</a></li><li><a href="global.html#TimeoutType">TimeoutType</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Apr 02 2019 10:11:29 GMT+0530 (India Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>